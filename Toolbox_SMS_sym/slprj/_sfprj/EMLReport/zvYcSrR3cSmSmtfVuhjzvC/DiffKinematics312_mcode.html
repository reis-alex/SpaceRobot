<!-- saved from url=(0014)about:internet -->
<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="34,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T100U3">Bij</span>,<span class="var type1" id="S3T101U4">Bi0</span>,<span class="var type1" id="S4T27U5">P0</span>,<span class="var type1" id="S5T33U6">pm</span>]=DiffKinematics(<span class="var type1" id="S6T4U9">R0</span>,<span class="var type1" id="S7T3U10">r0</span>,<span class="var type1" id="S8T99U11">rL</span>,<span class="var type1" id="S9T99U12">e</span>,<span class="var type1" id="S10T99U13">g</span>,<span class="var type2" id="S11T94V5U14">robot</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="34,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% Computes the differential kinematics of the multibody system.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% [Bij,Bi0,P0,pm]=DiffKinematics(R0,r0,rL,e,g,robot)</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="34,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">% :parameters:</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%   * R0 -- Rotation matrix from the base-link CCS to the inertial CCS -- [3x3].</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%   * r0 -- Position of the base-link center-of-mass with respect to the origin of the inertial frame, projected </span></span></span>
<span class="srcline"><span class="lineno"><a href="34,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%           in the inertial CCS -- [3x1].</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,10" id="srcline10">10</a></span><span class="line"><span class="comment">%   * rL -- Positions of the links, projected in the inertial CCS -- as a [3xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,11" id="srcline11">11</a></span><span class="line"><span class="comment">%   * e -- Joint rotation/sliding axes, projected in the inertial CCS -- as a [3xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,12" id="srcline12">12</a></span><span class="line"><span class="comment">%   * g -- Vector from the origin of the ith joint CCS to the origin of the ith link CCS, projected in </span></span></span>
<span class="srcline"><span class="lineno"><a href="34,13" id="srcline13">13</a></span><span class="line"><span class="comment">%           the inertial CCS -- as a [3xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,14" id="srcline14">14</a></span><span class="line"><span class="comment">%   * robot -- Robot model (see :doc:`/Tutorial_Robot`).</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,15" id="srcline15">15</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,16" id="srcline16">16</a></span><span class="line"><span class="comment">% :return:</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,17" id="srcline17">17</a></span><span class="line"><span class="comment">%   * Bij -- Twist-propagation matrix (for manipulator i&gt;0 and j&gt;0) -- as a [6x6xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,18" id="srcline18">18</a></span><span class="line"><span class="comment">%   * Bi0 -- Twist-propagation matrix (for i&gt;0 and j=0) -- as a [6x6xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,19" id="srcline19">19</a></span><span class="line"><span class="comment">%   * P0 -- Base-link twist-propagation "vector" -- as a [6x6] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,20" id="srcline20">20</a></span><span class="line"><span class="comment">%   * pm -- Manipulator twist-propagation "vector" -- as a [6xn] matrix.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,21" id="srcline21">21</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,22" id="srcline22">22</a></span><span class="line"><span class="comment">% Use :func:`src.kinematics_dynamics.Kinematics` to compute ``rL,e``, and ``g``.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,23" id="srcline23">23</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,24" id="srcline24">24</a></span><span class="line"><span class="comment">% See also: :func:`src.kinematics_dynamics.Kinematics` and :func:`src.kinematics_dynamics.Jacob`. </span></span></span>
<span class="srcline"><span class="lineno"><a href="34,25" id="srcline25">25</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,26" id="srcline26">26</a></span><span class="line"><span class="comment"><span class="comment">%{  </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,27" id="srcline27">27</a></span><span class="line"><span class="comment">    LICENSE</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,29" id="srcline29">29</a></span><span class="line"><span class="comment">    This program is free software: you can redistribute it and/or modify</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,30" id="srcline30">30</a></span><span class="line"><span class="comment">    it under the terms of the GNU Lesser General Public License as published by</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,31" id="srcline31">31</a></span><span class="line"><span class="comment">    the Free Software Foundation, either version 3 of the License, or</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,32" id="srcline32">32</a></span><span class="line"><span class="comment">    (at your option) any later version.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,33" id="srcline33">33</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,34" id="srcline34">34</a></span><span class="line"><span class="comment">    This program is distributed in the hope that it will be useful,</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,35" id="srcline35">35</a></span><span class="line"><span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,36" id="srcline36">36</a></span><span class="line"><span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,37" id="srcline37">37</a></span><span class="line"><span class="comment">    GNU Lesser General Public License for more details.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,38" id="srcline38">38</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,39" id="srcline39">39</a></span><span class="line"><span class="comment">    You should have received a copy of the GNU Lesser General Public License</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,40" id="srcline40">40</a></span><span class="line"><span class="comment">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,41" id="srcline41">41</a></span><span class="line"><span class="comment"><span class="comment">%}</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,42" id="srcline42">42</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,43" id="srcline43">43</a></span><span class="line"><span class="comment">%=== CODE ===%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,44" id="srcline44">44</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,45" id="srcline45">45</a></span><span class="line"><span class="comment">%--- Number of links  ---%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,46" id="srcline46">46</a></span><span class="line"><span class="mxinfo " id="T5:U11"><span class="var type1" id="S12T5U17">n</span>=<span class="mxinfo " id="T5:U13"><span class="var type1" id="S11T94U19">robot</span>.n_links_joints</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,47" id="srcline47">47</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,48" id="srcline48">48</a></span><span class="line"><span class="comment">%--- Twist-propagation matrix ---%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,49" id="srcline49">49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,50" id="srcline50">50</a></span><span class="line"><span class="comment">%Pre-allocate Bij</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,51" id="srcline51">51</a></span><span class="line"><span class="mxinfo " id="T100:U15"><span class="var type1" id="S2T100U23">Bij</span>=<span class="mxinfo " id="T100:U17">zeros(<span class="mxinfo " id="T5:U18">6</span>,<span class="mxinfo " id="T5:U19">6</span>,<span class="var type1" id="S12T5U28">n</span>,<span class="var type1" id="S12T5U29">n</span>,<span class="string">'like'</span>,<span class="var type1" id="S6T4U31">R0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,52" id="srcline52">52</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,53" id="srcline53">53</a></span><span class="line"><span class="comment">%Compute Bij</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,54" id="srcline54">54</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S14T5U34">j</span>=<span class="mxinfo " id="T22:U24"><span class="mxinfo " id="T5:U25">1</span>:<span class="var type1" id="S12T5U37">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,55" id="srcline55">55</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S15T5U40">i</span>=<span class="mxinfo " id="T22:U28"><span class="mxinfo " id="T5:U29">1</span>:<span class="var type1" id="S12T5U43">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,56" id="srcline56">56</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T44:U31"><span class="mxinfo " id="T5:U32"><span class="mxinfo " id="T32:U33"><span class="mxinfo " id="T96:U34"><span class="var type1" id="S11T94U50">robot</span>.con</span>.branch</span>(<span class="var type1" id="S15T5U53">i</span>,<span class="var type1" id="S14T5U54">j</span>)</span>==<span class="mxinfo " id="T5:U38">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,57" id="srcline57">57</a></span><span class="line">            <span class="comment">%Links are in the same branch</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,58" id="srcline58">58</a></span><span class="line">            <span class="mxinfo " id="T27:U39"><span class="mxinfo " id="T27:U40"><span class="var type1" id="S2T100U59">Bij</span>(<span class="mxinfo " id="T62:U42"><span class="mxinfo " id="T5:U43">1</span>:<span class="mxinfo " id="T5:U44">6</span></span>,<span class="mxinfo " id="T62:U45"><span class="mxinfo " id="T5:U46">1</span>:<span class="mxinfo " id="T5:U47">6</span></span>,<span class="var type1" id="S15T5U66">i</span>,<span class="var type1" id="S14T5U67">j</span>)</span>=<span class="mxinfo " id="T27:U50">[<span class="mxinfo " id="T63:U51"><span class="mxinfo " id="T4:U52">eye(3)</span>, <span class="mxinfo " id="T4:U53">zeros(<span class="mxinfo " id="T5:U54">3</span>,<span class="mxinfo " id="T5:U55">3</span>)</span></span>; <span class="mxinfo " id="T63:U56"><span class="mxinfo " id="T4:U57"><span class="fcn" id="F58N18:B79">SkewSym</span>(<span class="mxinfo " id="T3:U58"><span class="mxinfo " id="T3:U59"><span class="var type1" id="S8T99U82">rL</span>(<span class="mxinfo " id="T36:U61">1:3</span>,<span class="var type1" id="S14T5U86">j</span>)</span>-<span class="mxinfo " id="T3:U63"><span class="var type1" id="S8T99U88">rL</span>(<span class="mxinfo " id="T46:U65"><span class="mxinfo " id="T5:U66">1</span>:<span class="mxinfo " id="T5:U67">3</span></span>,<span class="var type1" id="S15T5U92">i</span>)</span></span>)</span>, <span class="mxinfo " id="T4:U69">eye(3)</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,59" id="srcline59">59</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,60" id="srcline60">60</a></span><span class="line">            <span class="comment">%Links are not in the same branch</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,61" id="srcline61">61</a></span><span class="line">            <span class="mxinfo " id="T27:U70"><span class="mxinfo " id="T27:U71"><span class="var type1" id="S2T100U100">Bij</span>(<span class="mxinfo " id="T62:U73"><span class="mxinfo " id="T5:U74">1</span>:<span class="mxinfo " id="T5:U75">6</span></span>,<span class="mxinfo " id="T62:U76"><span class="mxinfo " id="T5:U77">1</span>:<span class="mxinfo " id="T5:U78">6</span></span>,<span class="var type1" id="S15T5U107">i</span>,<span class="var type1" id="S14T5U108">j</span>)</span>=<span class="mxinfo " id="T27:U81">zeros(<span class="mxinfo " id="T5:U82">6</span>,<span class="mxinfo " id="T5:U83">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,62" id="srcline62">62</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,63" id="srcline63">63</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,64" id="srcline64">64</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,65" id="srcline65">65</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,66" id="srcline66">66</a></span><span class="line"><span class="comment">%Pre-allocate Bi0</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,67" id="srcline67">67</a></span><span class="line"><span class="mxinfo " id="T101:U84"><span class="var type1" id="S3T101U115">Bi0</span>=<span class="mxinfo " id="T101:U86">zeros(<span class="mxinfo " id="T5:U87">6</span>,<span class="mxinfo " id="T5:U88">6</span>,<span class="var type1" id="S12T5U120">n</span>,<span class="string">'like'</span>,<span class="var type1" id="S6T4U122">R0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,68" id="srcline68">68</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,69" id="srcline69">69</a></span><span class="line"><span class="comment">%Compute Bi0</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,70" id="srcline70">70</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S15T5U125">i</span>=<span class="mxinfo " id="T22:U92"><span class="mxinfo " id="T5:U93">1</span>:<span class="var type1" id="S12T5U128">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,71" id="srcline71">71</a></span><span class="line">    <span class="mxinfo " id="T27:U95"><span class="mxinfo " id="T27:U96"><span class="var type1" id="S3T101U132">Bi0</span>(<span class="mxinfo " id="T62:U98"><span class="mxinfo " id="T5:U99">1</span>:<span class="mxinfo " id="T5:U100">6</span></span>,<span class="mxinfo " id="T62:U101"><span class="mxinfo " id="T5:U102">1</span>:<span class="mxinfo " id="T5:U103">6</span></span>,<span class="var type1" id="S15T5U139">i</span>)</span>=<span class="mxinfo " id="T27:U105">[<span class="mxinfo " id="T63:U106"><span class="mxinfo " id="T4:U107">eye(3)</span>, <span class="mxinfo " id="T4:U108">zeros(<span class="mxinfo " id="T5:U109">3</span>,<span class="mxinfo " id="T5:U110">3</span>)</span></span>; <span class="mxinfo " id="T63:U111"><span class="mxinfo " id="T4:U112"><span class="fcn" id="F58N18:B151">SkewSym</span>(<span class="mxinfo " id="T3:U113"><span class="var type1" id="S7T3U153">r0</span>-<span class="mxinfo " id="T3:U115"><span class="var type1" id="S8T99U155">rL</span>(<span class="mxinfo " id="T46:U117"><span class="mxinfo " id="T5:U118">1</span>:<span class="mxinfo " id="T5:U119">3</span></span>,<span class="var type1" id="S15T5U159">i</span>)</span></span>)</span>, <span class="mxinfo " id="T4:U121">eye(3)</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,72" id="srcline72">72</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,73" id="srcline73">73</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,74" id="srcline74">74</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,75" id="srcline75">75</a></span><span class="line"><span class="comment">%--- Twist-propagation "vector" ---%</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,76" id="srcline76">76</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,77" id="srcline77">77</a></span><span class="line"><span class="comment">%Pre-allocate pm</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,78" id="srcline78">78</a></span><span class="line"><span class="mxinfo " id="T33:U122"><span class="var type1" id="S5T33U165">pm</span>=<span class="mxinfo " id="T33:U124">zeros(<span class="mxinfo " id="T5:U125">6</span>,<span class="var type1" id="S12T5U169">n</span>,<span class="string">'like'</span>,<span class="var type1" id="S6T4U171">R0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,79" id="srcline79">79</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,80" id="srcline80">80</a></span><span class="line"><span class="comment">%Base-link</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,81" id="srcline81">81</a></span><span class="line"><span class="mxinfo " id="T27:U128"><span class="var type1" id="S4T27U174">P0</span>=<span class="mxinfo " id="T27:U130">[<span class="mxinfo " id="T63:U131"><span class="var type1" id="S6T4U177">R0</span>,<span class="mxinfo " id="T4:U133">zeros(<span class="mxinfo " id="T5:U134">3</span>,<span class="mxinfo " id="T5:U135">3</span>)</span></span>; <span class="mxinfo " id="T63:U136">zeros(<span class="mxinfo " id="T5:U137">3</span>,<span class="mxinfo " id="T5:U138">3</span>), eye(3)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,82" id="srcline82">82</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,83" id="srcline83">83</a></span><span class="line"><span class="comment">%Forward recursion to obtain the twist-propagation "vector"</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,84" id="srcline84">84</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S15T5U192">i</span>=<span class="mxinfo " id="T22:U140"><span class="mxinfo " id="T5:U141">1</span>:<span class="var type1" id="S12T5U195">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,85" id="srcline85">85</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T44:U143"><span class="mxinfo " id="T5:U144"><span class="mxinfo " id="T43:U145"><span class="mxinfo " id="T95:U146"><span class="var type1" id="S11T94U202">robot</span>.joints</span>(<span class="var type1" id="S15T5U204">i</span>)</span>.type</span>==<span class="mxinfo " id="T5:U149">1</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="34,86" id="srcline86">86</a></span><span class="line">        <span class="comment">%Revolute joint</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,87" id="srcline87">87</a></span><span class="line">        <span class="mxinfo " id="T2:U150"><span class="mxinfo " id="T2:U151"><span class="var type1" id="S5T33U210">pm</span>(<span class="mxinfo " id="T62:U153"><span class="mxinfo " id="T5:U154">1</span>:<span class="mxinfo " id="T5:U155">6</span></span>,<span class="var type1" id="S15T5U214">i</span>)</span>=<span class="mxinfo " id="T2:U157">[<span class="mxinfo " id="T3:U158"><span class="var type1" id="S9T99U218">e</span>(<span class="mxinfo " id="T46:U160"><span class="mxinfo " id="T5:U161">1</span>:<span class="mxinfo " id="T5:U162">3</span></span>,<span class="var type1" id="S15T5U222">i</span>)</span>;<span class="mxinfo " id="T3:U164">cross(<span class="mxinfo " id="T3:U165"><span class="var type1" id="S9T99U227">e</span>(<span class="mxinfo " id="T36:U167">1:3</span>,<span class="var type1" id="S15T5U231">i</span>)</span>,<span class="mxinfo " id="T3:U169"><span class="var type1" id="S10T99U233">g</span>(<span class="mxinfo " id="T36:U171">1:3</span>,<span class="var type1" id="S15T5U237">i</span>)</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,88" id="srcline88">88</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T44:U173"><span class="mxinfo " id="T5:U174"><span class="mxinfo " id="T43:U175"><span class="mxinfo " id="T95:U176"><span class="var type1" id="S11T94U243">robot</span>.joints</span>(<span class="var type1" id="S15T5U245">i</span>)</span>.type</span>==<span class="mxinfo " id="T5:U179">2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,89" id="srcline89">89</a></span><span class="line">        <span class="comment">%Prismatic joint</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,90" id="srcline90">90</a></span><span class="line">        <span class="mxinfo " id="T2:U180"><span class="mxinfo " id="T2:U181"><span class="var type1" id="S5T33U251">pm</span>(<span class="mxinfo " id="T62:U183"><span class="mxinfo " id="T5:U184">1</span>:<span class="mxinfo " id="T5:U185">6</span></span>,<span class="var type1" id="S15T5U255">i</span>)</span>=<span class="mxinfo " id="T2:U187">[<span class="mxinfo " id="T3:U188">zeros(<span class="mxinfo " id="T5:U189">3</span>,1)</span>;<span class="mxinfo " id="T3:U190"><span class="var type1" id="S9T99U264">e</span>(<span class="mxinfo " id="T46:U192"><span class="mxinfo " id="T5:U193">1</span>:<span class="mxinfo " id="T5:U194">3</span></span>,<span class="var type1" id="S15T5U268">i</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,91" id="srcline91">91</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T44:U196"><span class="mxinfo " id="T5:U197"><span class="mxinfo " id="T43:U198"><span class="mxinfo " id="T95:U199"><span class="var type1" id="S11T94U274">robot</span>.joints</span>(<span class="var type1" id="S15T5U276">i</span>)</span>.type</span>==<span class="mxinfo " id="T5:U202">0</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="34,92" id="srcline92">92</a></span><span class="line">        <span class="comment">%Fixed joint</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,93" id="srcline93">93</a></span><span class="line">        <span class="mxinfo " id="T2:U203"><span class="mxinfo " id="T2:U204"><span class="var type1" id="S5T33U282">pm</span>(<span class="mxinfo " id="T62:U206"><span class="mxinfo " id="T5:U207">1</span>:<span class="mxinfo " id="T5:U208">6</span></span>,<span class="var type1" id="S15T5U286">i</span>)</span>=<span class="mxinfo " id="T2:U210">zeros(<span class="mxinfo " id="T5:U211">6</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="34,94" id="srcline94">94</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,95" id="srcline95">95</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="34,96" id="srcline96">96</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="34,97" id="srcline97">97</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
